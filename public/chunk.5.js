(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{12:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t(21),s=t(41);const r=n["a"].div`
    animation: .5s ${n["b"]`${t.n(s).a}`};
`},24:function(e,a,t){"use strict";function n(e){return new Date(e).toLocaleString("ru",{weekday:"short",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}t.d(a,"a",function(){return n})},25:function(e,a,t){"use strict";function n(e){return a=>i.a.post("/posts/get-posts-by-page-index",{index:e}).then(t=>Array.isArray(t.data)&&t.data.length>0?(a({type:l.b,payload:{[e]:t.data}}),t.data):null).catch(()=>null)}function s(e){return()=>i.a.post("/posts/get-post-by-id",{id:e}).then(e=>e.data).catch(()=>null)}t.d(a,"b",function(){return n}),t.d(a,"a",function(){return s});var r=t(22),i=t.n(r),l=t(14)},47:function(e,a,t){"use strict";var n,s=t(77),r=(n=s)&&n.__esModule?n:{default:n};e.exports=r.default},72:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n,s=t(0),r=(n=s)&&n.__esModule?n:{default:n};a.default=function(e){return r.default.createElement("li",{className:e.breakClassName||"break"},e.breakLabel)}},73:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n,s=t(0),r=(n=s)&&n.__esModule?n:{default:n};a.default=function(e){var a=e.pageClassName,t=e.onClick,n="Page "+e.page+(e.extraAriaContext?" "+e.extraAriaContext:""),s=null;return e.selected&&(s="page",n="Page "+e.page+" is your current page",a=void 0!==a?a+" "+e.activeClassName:e.activeClassName),r.default.createElement("li",{className:a},r.default.createElement("a",{onClick:t,className:e.pageLinkClassName,href:e.href,tabIndex:"0","aria-label":n,"aria-current":s,onKeyPress:t},e.page))}},74:function(e,a,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},75:function(e,a,t){"use strict";var n=t(10),s=t(19),r=t(74);e.exports=function(){function e(e,a,t,n,i,l){l!==r&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function a(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a};return t.checkPropTypes=n,t.PropTypes=t,t}},76:function(e,a,t){e.exports=t(75)()},77:function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function e(e,a){for(var t=0;a.length>t;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),r=t(0),i=n(r),l=n(t(76)),o=n(t(73)),u=n(t(72)),c=function(e){function a(e){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handlePreviousPage=function(e){var a=t.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,a>0&&t.handlePageSelected(a-1,e)},t.handleNextPage=function(e){var a=t.state.selected,n=t.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,n-1>a&&t.handlePageSelected(a+1,e)},t.handlePageSelected=function(e,a){a.preventDefault?a.preventDefault():a.returnValue=!1,t.state.selected!==e&&(t.setState({selected:e}),t.callCallback(e))},t.callCallback=function(e){void 0!==t.props.onPageChange&&"function"==typeof t.props.onPageChange&&t.props.onPageChange({selected:e})},t.pagination=function(){var e=[],a=t.props,n=a.pageRangeDisplayed,s=a.pageCount,r=a.marginPagesDisplayed,l=a.breakLabel,o=a.breakClassName,c=t.state.selected;if(n<s){var p=n/2,d=n-p;c>s-n/2?p=n-(d=s-c):n/2>c&&(d=n-(p=c));var f=void 0,m=void 0,g=void 0,h=function(e){return t.getPageElement(e)};for(f=0;s>f;f++)(m=f+1)>r?m>s-r?e.push(h(f)):c-p>f||f>c+d?l&&e[e.length-1]!==g&&(g=i.default.createElement(u.default,{key:f,breakLabel:l,breakClassName:o}),e.push(g)):e.push(h(f)):e.push(h(f))}else for(var b=0;s>b;b++)e.push(t.getPageElement(b));return e},t.state={selected:e.initialPage?e.initialPage:e.forcePage?e.forcePage:0},t}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,r.Component),s(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.initialPage;void 0===a||e.disableInitialCallback||this.callCallback(a)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:e.forcePage})}},{key:"hrefBuilder",value:function(e){var a=this.props,t=a.hrefBuilder;if(t&&e!==this.state.selected&&e>=0&&a.pageCount>e)return t(e+1)}},{key:"getPageElement",value:function(e){var a=this.state.selected,t=this.props,n=t.pageClassName,s=t.pageLinkClassName,r=t.activeClassName,l=t.extraAriaContext;return i.default.createElement(o.default,{key:e,onClick:this.handlePageSelected.bind(null,e),selected:a===e,pageClassName:n,pageLinkClassName:s,activeClassName:r,extraAriaContext:l,href:this.hrefBuilder(e),page:e+1})}},{key:"render",value:function(){var e=this.props,a=e.disabledClassName,t=e.previousLabel,n=e.nextLinkClassName,s=e.nextLabel,r=this.state.selected,l=e.nextClassName+(r===e.pageCount-1?" "+a:"");return i.default.createElement("ul",{className:e.containerClassName},i.default.createElement("li",{className:e.previousClassName+(0===r?" "+a:"")},i.default.createElement("a",{onClick:this.handlePreviousPage,className:e.previousLinkClassName,href:this.hrefBuilder(r-1),tabIndex:"0",onKeyPress:this.handlePreviousPage},t)),this.pagination(),i.default.createElement("li",{className:l},i.default.createElement("a",{onClick:this.handleNextPage,className:n,href:this.hrefBuilder(r+1),tabIndex:"0",onKeyPress:this.handleNextPage},s)))}}]),a}();c.propTypes={pageCount:l.default.number.isRequired,pageRangeDisplayed:l.default.number.isRequired,marginPagesDisplayed:l.default.number.isRequired,previousLabel:l.default.node,nextLabel:l.default.node,breakLabel:l.default.node,hrefBuilder:l.default.func,onPageChange:l.default.func,initialPage:l.default.number,forcePage:l.default.number,disableInitialCallback:l.default.bool,containerClassName:l.default.string,pageClassName:l.default.string,pageLinkClassName:l.default.string,activeClassName:l.default.string,previousClassName:l.default.string,nextClassName:l.default.string,previousLinkClassName:l.default.string,nextLinkClassName:l.default.string,disabledClassName:l.default.string,breakClassName:l.default.string},c.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1},a.default=c},82:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(13),i=t(47),l=t.n(i),o=t(21),u=t(22),c=t.n(u),p=t(14);const d=o["a"].nav`
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
`;const f={setPagination:function(){return e=>c.a.post("/posts/init-pagination").then(a=>{e({type:p.a,payload:{isFirstVisit:!1,pageCount:a.data.pageCount}})})}};var m=Object(r.b)(e=>({isFirstVisit:e.pagination.isFirstVisit,pageCount:e.pagination.pageCount}),f)(class extends s.a.PureComponent{constructor(...e){var a;return a=super(...e),this.onPageChange=(({selected:e})=>{this.props.history.push(`/page/${e+1}`)}),a}componentDidMount(){this.props.isFirstVisit&&this.props.setPagination()}render(){const{pageCount:e,index:a}=this.props;return s.a.createElement(d,{className:"row justify-content-center pt-3 pb-3","aria-label":"Page navigation"},s.a.createElement(l.a,{pageCount:e,forcePage:a-1,onPageChange:this.onPageChange,pageRangeDisplayed:2,marginPagesDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active",disabledClassName:"disabled",previousClassName:"page-item",nextClassName:"page-item",previousLabel:s.a.createElement("span",null,"«"),nextLabel:s.a.createElement("span",null,"»"),previousLinkClassName:"page-link",nextLinkClassName:"page-link",breakLabel:s.a.createElement("span",{className:"page-link"},"..."),breakClassName:"page-item disabled"}))}}),g=t(11),h=t.n(g),b=t(25),v=t(18),P=t(8),C=t(12),y=t(24);var N=({id:e,title:a,author:t,text:n,created_at:r})=>{const i=`/post/${e}`,l=n.slice(0,136)+" ...";return s.a.createElement("article",{className:"col-md-6"},s.a.createElement(C.a,{className:"card mb-4"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"card-title"},s.a.createElement(P.b,{to:i},a)),s.a.createElement("span",{className:"lead"},t)),s.a.createElement("div",{className:"card-body"},s.a.createElement("p",null,l),s.a.createElement("time",{className:"text-muted",dateTime:r},Object(y.a)(r)))))},k=Object.assign||function(e){for(var a=1;arguments.length>a;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};var x=({items:e})=>s.a.createElement("main",{className:"row"},e.map(e=>s.a.createElement(N,k({key:e.id},e))));const E=h()({loader:()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,91)),loading:v.a});const _={fetchPostsByPageIndex:b.b};var L=Object(r.b)(e=>({posts:e.posts}),_)(class extends s.a.PureComponent{constructor(...e){var a;return a=super(...e),this.state={isPageExist:!0,currentPage:[]},this.findPage=(e=>{const a=this.props.posts;e in a?this.setState({currentPage:a[e],isPageExist:!0}):this.props.fetchPostsByPageIndex(e).then(e=>{this.setState(null!==e?{currentPage:e,isPageExist:!0}:{isPageExist:!1})})}),a}componentDidMount(){this.findPage(this.props.index)}componentWillReceiveProps(e){this.props.index!==e.index&&this.findPage(e.index)}render(){const{isPageExist:e,currentPage:a}=this.state;return e?s.a.createElement(x,{items:a}):s.a.createElement(E,null)}});a.default=(({match:e,history:a})=>{const t=parseInt(e.params.index),n=!isNaN(t)&&t>0?t:1;return s.a.createElement("div",{className:"container"},s.a.createElement(m,{index:n,history:a}),s.a.createElement(L,{index:n,history:a}))})}}]);